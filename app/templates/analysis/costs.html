{% extends "base.html" %}
{% block title %}–ò–∑–¥–µ—Ä–∂–∫–∏ –∏ —Å–ø—Ä–æ—Å ¬∑ Family Budget{% endblock %}
{% block content %}

<div class="container py-5">
  <div class="mb-5">
    <h1 class="h3 mb-2">üìä –ò–∑–¥–µ—Ä–∂–∫–∏ –∏ —Å–ø—Ä–æ—Å</h1>
    <p class="text-muted-soft">–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞</p>
  </div>

  <div class="row g-4">
    <!-- –°—Ä–µ–¥–Ω–∏–µ –∏–∑–¥–µ—Ä–∂–∫–∏ (AC) -->
    <div class="col-lg-6">
      <div class="fb-card p-5">
        <div class="d-flex align-items-center mb-4">
          <div style="width: 50px; height: 50px; background: rgba(251,191,36,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
            <i class="bi bi-calculator" style="font-size: 24px; color: #fbbf24;"></i>
          </div>
          <div>
            <h2 class="h5 mb-0">–°—Ä–µ–¥–Ω–∏–µ –∏–∑–¥–µ—Ä–∂–∫–∏ (AC)</h2>
            <p class="text-muted-soft mb-0 small">–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞</p>
          </div>
        </div>

        <div style="background: rgba(251,191,36,0.1); border-left: 3px solid #fbbf24; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <strong>üí° –ü—Ä–∏–º–µ—Ä:</strong> –í—ã –æ—Ç–∫—Ä—ã–ª–∏ –ø–µ–∫–∞—Ä–Ω—é –∏ –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏ 50,000 ‚ÇΩ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ 1,000 –±—É–ª–æ—á–µ–∫. –°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å = <strong>50 ‚ÇΩ/–±—É–ª–æ—á–∫–∞</strong>
        </div>

        <form method="post" class="mb-4">
          <input type="hidden" name="action" value="ac">
          <div class="mb-3">
            <label class="form-label">üí∞ –û–±—â–∏–µ –∏–∑–¥–µ—Ä–∂–∫–∏ (TC)</label>
            <input type="number" step="0.01" name="tc" class="form-control" placeholder="50000" required>
            <small class="text-muted-soft">–í–≤–µ–¥–∏—Ç–µ –≤—Å—ë —á—Ç–æ –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</small>
          </div>
          <div class="mb-3">
            <label class="form-label">üì¶ –û–±—ä—ë–º –≤—ã–ø—É—Å–∫–∞ (Q)</label>
            <input type="number" step="0.01" name="q" class="form-control" placeholder="1000" required>
            <small class="text-muted-soft">–°–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–∞ –ø—Ä–æ–∏–∑–≤–µ–ª–∏</small>
          </div>
          <button type="submit" class="btn btn-fb-primary w-100">
            <i class="bi bi-play-circle me-2"></i> –ü–æ—Å—á–∏—Ç–∞—Ç—å AC = TC √∑ Q
          </button>
        </form>

        {% if result.ac and result.ac.ac is not none %}
          <div style="background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 8px; padding: 15px;">
            <p class="text-muted-soft mb-2">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:</p>
            <p class="mb-0"><strong class="h5" style="color: #22c55e;">{{ "%.2f"|format(result.ac.ac) }} ‚ÇΩ</strong> <span class="text-muted-soft">‚Äî —Ü–µ–Ω–∞ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞</span></p>
          </div>
        {% elif result.ac and result.ac.ac is none %}
          <div class="alert alert-danger mb-0">‚ùå –û—à–∏–±–∫–∞: Q –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 0</div>
        {% endif %}
      </div>
    </div>

    <!-- –ü—Ä–µ–¥–µ–ª—å–Ω—ã–µ –∏–∑–¥–µ—Ä–∂–∫–∏ (MC) -->
    <div class="col-lg-6">
      <div class="fb-card p-5">
        <div class="d-flex align-items-center mb-4">
          <div style="width: 50px; height: 50px; background: rgba(59,130,246,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
            <i class="bi bi-arrow-up-right" style="font-size: 24px; color: #3b82f6;"></i>
          </div>
          <div>
            <h2 class="h5 mb-0">–ü—Ä–µ–¥–µ–ª—å–Ω—ã–µ –∏–∑–¥–µ—Ä–∂–∫–∏ (MC)</h2>
            <p class="text-muted-soft mb-0 small">–¶–µ–Ω–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–æ–≤–∞—Ä–∞</p>
          </div>
        </div>

        <div style="background: rgba(59,130,246,0.1); border-left: 3px solid #3b82f6; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <strong>üí° –ü—Ä–∏–º–µ—Ä:</strong> –ü—Ä–æ–∏–∑–≤–µ–ª–∏ 100 –±—É–ª–æ—á–µ–∫ –∑–∞ 5,000 ‚ÇΩ, 101-—é –±—É–ª–æ—á–∫—É –∑–∞ 5,050 ‚ÇΩ. –ü—Ä–µ–¥–µ–ª—å–Ω—ã–µ –∏–∑–¥–µ—Ä–∂–∫–∏ = <strong>50 ‚ÇΩ</strong>
        </div>

        <form method="post" class="mb-4">
          <input type="hidden" name="action" value="mc">
          <div class="row">
            <div class="col-6 mb-3">
              <label class="form-label">üí∏ –ò–∑–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ Q1 (C1)</label>
              <input type="number" step="0.01" name="c1" class="form-control" placeholder="5000" required>
            </div>
            <div class="col-6 mb-3">
              <label class="form-label">üí∏ –ò–∑–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ Q2 (C2)</label>
              <input type="number" step="0.01" name="c2" class="form-control" placeholder="5050" required>
            </div>
          </div>
          <div class="row">
            <div class="col-6 mb-3">
              <label class="form-label">üì¶ –û–±—ä—ë–º Q1</label>
              <input type="number" step="0.01" name="q1" class="form-control" placeholder="100" required>
            </div>
            <div class="col-6 mb-3">
              <label class="form-label">üì¶ –û–±—ä—ë–º Q2</label>
              <input type="number" step="0.01" name="q2" class="form-control" placeholder="101" required>
            </div>
          </div>
          <button type="submit" class="btn btn-fb-primary w-100">
            <i class="bi bi-play-circle me-2"></i> –ü–æ—Å—á–∏—Ç–∞—Ç—å MC = ŒîC √∑ ŒîQ
          </button>
        </form>

        {% if result.mc and result.mc.mc is not none %}
          <div style="background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 8px; padding: 15px;">
            <p class="text-muted-soft mb-2">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:</p>
            <p class="mb-0"><strong class="h5" style="color: #22c55e;">{{ "%.2f"|format(result.mc.mc) }} ‚ÇΩ</strong> <span class="text-muted-soft">‚Äî –∏–∑–¥–µ—Ä–∂–∫–∏ –Ω–∞ 1 –¥–æ–ø. —Ç–æ–≤–∞—Ä</span></p>
          </div>
        {% elif result.mc and result.mc.mc is none %}
          <div class="alert alert-danger mb-0">‚ùå –û—à–∏–±–∫–∞: ŒîQ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 0</div>
        {% endif %}
      </div>
    </div>
    <!-- –ü—Ä–µ–¥–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥ (MR) -->
    <div class="col-lg-6">
      <div class="fb-card p-5">
        <div class="d-flex align-items-center mb-4">
          <div style="width: 50px; height: 50px; background: rgba(34,197,94,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
            <i class="bi bi-cash-coin" style="font-size: 24px; color: #22c55e;"></i>
          </div>
          <div>
            <h2 class="h5 mb-0">–ü—Ä–µ–¥–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥ (MR)</h2>
            <p class="text-muted-soft mb-0 small">–ó–∞—Ä–∞–±–æ—Ç–æ–∫ –æ—Ç —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–¥–∞–∂–∏</p>
          </div>
        </div>

        <div style="background: rgba(34,197,94,0.1); border-left: 3px solid #22c55e; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <strong>üí° –ü—Ä–∏–º–µ—Ä:</strong> –ü—Ä–æ–¥–∞–≤ 100 –±—É–ª–æ—á–µ–∫ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ 5,000 ‚ÇΩ, 101-—é –±—É–ª–æ—á–∫—É –∑–∞ 5,048 ‚ÇΩ. –ü—Ä–µ–¥–µ–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥ = <strong>48 ‚ÇΩ</strong>
        </div>

        <form method="post" class="mb-4">
          <input type="hidden" name="action" value="mr">
          <div class="row">
            <div class="col-6 mb-3">
              <label class="form-label">üìà –î–æ—Ö–æ–¥ –ø—Ä–∏ Q1 (B1)</label>
              <input type="number" step="0.01" name="b1" class="form-control" placeholder="5000" required>
            </div>
            <div class="col-6 mb-3">
              <label class="form-label">üìà –î–æ—Ö–æ–¥ –ø—Ä–∏ Q2 (B2)</label>
              <input type="number" step="0.01" name="b2" class="form-control" placeholder="5048" required>
            </div>
          </div>
          <div class="row">
            <div class="col-6 mb-3">
              <label class="form-label">üì¶ –û–±—ä—ë–º Q1</label>
              <input type="number" step="0.01" name="q1_mr" class="form-control" placeholder="100" required>
            </div>
            <div class="col-6 mb-3">
              <label class="form-label">üì¶ –û–±—ä—ë–º Q2</label>
              <input type="number" step="0.01" name="q2_mr" class="form-control" placeholder="101" required>
            </div>
          </div>
          <button type="submit" class="btn btn-fb-primary w-100">
            <i class="bi bi-play-circle me-2"></i> –ü–æ—Å—á–∏—Ç–∞—Ç—å MR = ŒîB √∑ ŒîQ
          </button>
        </form>

        {% if result.mr and result.mr.mr is not none %}
          <div style="background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 8px; padding: 15px;">
            <p class="text-muted-soft mb-2">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:</p>
            <p class="mb-0"><strong class="h5" style="color: #22c55e;">{{ "%.2f"|format(result.mr.mr) }} ‚ÇΩ</strong> <span class="text-muted-soft">‚Äî –¥–æ—Ö–æ–¥ –æ—Ç 1 –¥–æ–ø. –ø—Ä–æ–¥–∞–∂–∏</span></p>
          </div>
        {% elif result.mr and result.mr.mr is none %}
          <div class="alert alert-danger mb-0">‚ùå –û—à–∏–±–∫–∞: ŒîQ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 0</div>
        {% endif %}
      </div>
    </div>

    <!-- –≠–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å —Å–ø—Ä–æ—Å–∞ -->
    <div class="col-lg-6">
      <div class="fb-card p-5">
        <div class="d-flex align-items-center mb-4">
          <div style="width: 50px; height: 50px; background: rgba(168,85,247,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
            <i class="bi bi-graph-up-arrow" style="font-size: 24px; color: #a855f7;"></i>
          </div>
          <div>
            <h2 class="h5 mb-0">–≠–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å —Å–ø—Ä–æ—Å–∞</h2>
            <p class="text-muted-soft mb-0 small">–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ —Ü–µ–Ω–µ</p>
          </div>
        </div>

        <div style="background: rgba(168,85,247,0.1); border-left: 3px solid #a855f7; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <strong>üí° –ü—Ä–∏–º–µ—Ä:</strong> –ü–æ–≤—ã—Å–∏–ª–∏ —Ü–µ–Ω—É –Ω–∞ 10% ‚Üí –ø—Ä–æ–¥–∞–∂–∏ —É–ø–∞–ª–∏ –Ω–∞ 15%. –≠–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å = <strong>1.5</strong> (—Å–ø—Ä–æ—Å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫ —Ü–µ–Ω–µ)
        </div>

        <form method="post" class="mb-4">
          <input type="hidden" name="action" value="elasticity">
          <div class="row">
            <div class="col-6 mb-3">
              <label class="form-label">üì¶ –û–±—ä—ë–º Q1</label>
              <input type="number" step="0.01" name="q1_el" class="form-control" placeholder="100" required>
            </div>
            <div class="col-6 mb-3">
              <label class="form-label">üì¶ –û–±—ä—ë–º Q2</label>
              <input type="number" step="0.01" name="q2_el" class="form-control" placeholder="85" required>
            </div>
          </div>
          <div class="row">
            <div class="col-6 mb-3">
              <label class="form-label">üí∞ –¶–µ–Ω–∞ P1</label>
              <input type="number" step="0.01" name="p1_el" class="form-control" placeholder="50" required>
            </div>
            <div class="col-6 mb-3">
              <label class="form-label">üí∞ –¶–µ–Ω–∞ P2</label>
              <input type="number" step="0.01" name="p2_el" class="form-control" placeholder="55" required>
            </div>
          </div>
          <button type="submit" class="btn btn-fb-primary w-100">
            <i class="bi bi-play-circle me-2"></i> –ü–æ—Å—á–∏—Ç–∞—Ç—å —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç—å
          </button>
        </form>

        {% if result.elasticity and result.elasticity.elasticity is not none %}
          {% set e = result.elasticity.elasticity %}
          <div style="background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 8px; padding: 15px;">
            <p class="text-muted-soft mb-2">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:</p>
            <p class="mb-1"><strong class="h5" style="color: #22c55e;">{{ "%.2f"|format(e|abs) }}</strong></p>
            <small>
              {% if e|abs > 1 %}
                ‚úì –°–ø—Ä–æ—Å —ç–ª–∞—Å—Ç–∏—á–Ω—ã–π - –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ —Å–∏–ª—å–Ω–æ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ —Ü–µ–Ω—É
              {% elif e|abs < 1 %}
                ‚úì –°–ø—Ä–æ—Å –Ω–µ—ç–ª–∞—Å—Ç–∏—á–Ω—ã–π - —Ü–µ–Ω–∞ –≤–ª–∏—è–µ—Ç —Å–ª–∞–±–æ
              {% else %}
                ‚úì –°–ø—Ä–æ—Å –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Ü–µ–Ω–µ
              {% endif %}
            </small>
          </div>
        {% elif result.elasticity and result.elasticity.elasticity is none %}
          <div class="alert alert-danger mb-0">‚ùå –û—à–∏–±–∫–∞: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å</div>
        {% endif %}
      </div>
    </div>

    <!-- –£—Å–ª–æ–≤–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏ (ToT) -->
    <div class="col-lg-6">
      <div class="fb-card p-5">
        <div class="d-flex align-items-center mb-4">
          <div style="width: 50px; height: 50px; background: rgba(239,68,68,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
            <i class="bi bi-arrow-left-right" style="font-size: 24px; color: #ef4444;"></i>
          </div>
          <div>
            <h2 class="h5 mb-0">–£—Å–ª–æ–≤–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏ (ToT)</h2>
            <p class="text-muted-soft mb-0 small">–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ –∏–º–ø–æ—Ä—Ç–∞</p>
          </div>
        </div>

        <div style="background: rgba(239,68,68,0.1); border-left: 3px solid #ef4444; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <strong>üí° –ü—Ä–∏–º–µ—Ä:</strong> –í—ã –ø—Ä–æ–¥–∞—ë—Ç–µ –±—É–ª–æ—á–∫–∏ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—É –ø–æ 100 ‚ÇΩ, –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –º—É–∫—É –ø–æ 50 ‚ÇΩ/–∫–≥. ToT = 100 √∑ 50 = <strong>2.0</strong> (–≤—ã–≥–æ–¥–Ω–æ!)
        </div>

        <form method="post" class="mb-4">
          <input type="hidden" name="action" value="tot">
          <div class="mb-3">
            <label class="form-label">üìä –¶–µ–Ω–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞</label>
            <input type="number" step="0.01" name="p_exp" class="form-control" placeholder="100" required>
            <small class="text-muted-soft">–ó–∞ —á—Ç–æ –≤—ã –ø—Ä–æ–¥–∞—ë—Ç–µ —Å–≤–æ–π —Ç–æ–≤–∞—Ä</small>
          </div>
          <div class="mb-3">
            <label class="form-label">üìä –¶–µ–Ω–∞ –∏–º–ø–æ—Ä—Ç–∞</label>
            <input type="number" step="0.01" name="p_imp" class="form-control" placeholder="50" required>
            <small class="text-muted-soft">–°–∫–æ–ª—å–∫–æ –ø–ª–∞—Ç–∏—Ç–µ –∑–∞ –∏–º–ø–æ—Ä—Ç–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã</small>
          </div>
          <button type="submit" class="btn btn-fb-primary w-100">
            <i class="bi bi-play-circle me-2"></i> –ü–æ—Å—á–∏—Ç–∞—Ç—å ToT = –≠–∫—Å–ø–æ—Ä—Ç √∑ –ò–º–ø–æ—Ä—Ç
          </button>
        </form>

        {% if result.tot and result.tot.tot is not none %}
          <div style="background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 8px; padding: 15px;">
            <p class="text-muted-soft mb-2">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:</p>
            <p class="mb-0"><strong class="h5" style="color: #22c55e;">{{ "%.2f"|format(result.tot.tot) }}</strong> <span class="text-muted-soft">‚Äî —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω</span></p>
          </div>
        {% elif result.tot and result.tot.tot is none %}
          <div class="alert alert-danger mb-0">‚ùå –û—à–∏–±–∫–∞: —Ü–µ–Ω–∞ –∏–º–ø–æ—Ä—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å 0</div>
        {% endif %}
      </div>
    </div>
    <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–µ–æ—Ä–∏—è –¥–µ–Ω–µ–≥: MV = PQ -->
    <div class="col-lg-6">
      <div class="fb-card p-5">
        <div class="d-flex align-items-center mb-4">
          <div style="width: 50px; height: 50px; background: rgba(14,165,233,0.2); border-radius: 10px; display: flex; align-items: center; justify-content: center; margin-right: 15px;">
            <i class="bi bi-bank2" style="font-size: 24px; color: #0ea5e9;"></i>
          </div>
          <div>
            <h2 class="h5 mb-0">–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–µ–æ—Ä–∏—è –¥–µ–Ω–µ–≥</h2>
            <p class="text-muted-soft mb-0 small">–£—Ä–∞–≤–Ω–µ–Ω–∏–µ MV = PQ</p>
          </div>
        </div>

        <div style="background: rgba(14,165,233,0.1); border-left: 3px solid #0ea5e9; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <strong>üí° –ü—Ä–∏–º–µ—Ä:</strong> –í —ç–∫–æ–Ω–æ–º–∏–∫–µ —Ü–∏—Ä–∫—É–ª–∏—Ä—É–µ—Ç 100,000 ‚ÇΩ (M), –∫–∞–∂–¥–∞—è —Ä—É–±–ª—å —Ç—Ä–∞—Ç–∏—Ç—Å—è 5 —Ä–∞–∑ –≤ –≥–æ–¥ (V). –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–æ–≤ = PQ = 100,000 √ó 5 = 500,000 ‚ÇΩ
        </div>

        <form method="post" class="mb-4">
          <input type="hidden" name="action" value="fisher">
          
          <div class="mb-3">
            <label class="form-label">üéØ –ß—Ç–æ –Ω–∞–π—Ç–∏?</label>
            <select name="unknown" class="form-select">
              <option value="M">–î–µ–Ω–µ–∂–Ω—É—é –º–∞—Å—Å—É (M)</option>
              <option value="V">–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è (V)</option>
              <option value="P">–£—Ä–æ–≤–µ–Ω—å —Ü–µ–Ω (P)</option>
              <option value="Q">–û–±—ä—ë–º –≤—ã–ø—É—Å–∫–∞ (Q)</option>
            </select>
            <small class="text-muted-soft">–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏</small>
          </div>

          <div class="row">
            <div class="col-6 mb-3">
              <label class="form-label">M - –î–µ–Ω–µ–∂–Ω–∞—è –º–∞—Å—Å–∞</label>
              <input type="number" step="0.01" name="m" class="form-control" placeholder="100000">
            </div>
            <div class="col-6 mb-3">
              <label class="form-label">V - –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è</label>
              <input type="number" step="0.01" name="v" class="form-control" placeholder="5">
            </div>
          </div>

          <div class="row">
            <div class="col-6 mb-3">
              <label class="form-label">P - –£—Ä–æ–≤–µ–Ω—å —Ü–µ–Ω</label>
              <input type="number" step="0.01" name="p" class="form-control" placeholder="1">
            </div>
            <div class="col-6 mb-3">
              <label class="form-label">Q - –û–±—ä—ë–º –≤—ã–ø—É—Å–∫–∞</label>
              <input type="number" step="0.01" name="q_f" class="form-control" placeholder="500000">
            </div>
          </div>

          <button type="submit" class="btn btn-fb-primary w-100">
            <i class="bi bi-play-circle me-2"></i> –†–µ—à–∏—Ç—å —É—Ä–∞–≤–Ω–µ–Ω–∏–µ MV = PQ
          </button>
        </form>

        {% if result.fisher %}
          <div style="background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3); border-radius: 8px; padding: 15px; font-size: 0.9rem;">
            <p class="text-muted-soft mb-2">‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:</p>
            <p class="mb-1"><strong>M:</strong> {{ result.fisher.m if result.fisher.m is not none else "‚Äî" }}</p>
            <p class="mb-1"><strong>V:</strong> {{ result.fisher.v if result.fisher.v is not none else "‚Äî" }}</p>
            <p class="mb-1"><strong>P:</strong> {{ result.fisher.p if result.fisher.p is not none else "‚Äî" }}</p>
            <p class="mb-0"><strong>Q:</strong> {{ result.fisher.q if result.fisher.q is not none else "‚Äî" }}</p>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
<style>
  .feature-icon-bg {
    width: 50px;
    height: 50px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
  }

  .example-box {
    background: rgba(251, 191, 36, 0.08);
    border-left: 3px solid #fbbf24;
    padding: 15px;
    border-radius: 8px;
    font-size: 0.95rem;
    line-height: 1.5;
  }

  .result-box {
    background: rgba(34, 197, 94, 0.1);
    border: 1px solid rgba(34, 197, 94, 0.3);
    border-radius: 8px;
    padding: 15px;
  }

  .result-box p {
    margin-bottom: 0.5rem;
  }

  @media (max-width: 768px) {
    .fb-card {
      padding: 1.5rem !important;
    }

    .fb-card p {
      font-size: 0.9rem;
    }

    .row {
      margin-right: 0;
      margin-left: 0;
    }
  }
</style>

{% endblock %}
